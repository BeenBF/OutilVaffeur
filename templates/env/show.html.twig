{% extends "base.html.twig" %}
{% block title %}{{ nomCourt }} {% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" type="text/css" href="{{ asset('/CSS/bootstrap.css') }}"></style>
{% endblock %}
{% block body %}
	<div class="container">
		<div class="row">
			<h3>Données Post Paiement</h3>
		</div>	
		<table id="myTable3" class="table table-striped table-bordered" style="width:100%" >
			<thead>
				<tr>
					<th>Type Valid</th>
					<th>Produit</th>
					<th>n°Pass</th>
					<th>n°Contrat</th>
					<th>Horodatage</th>
					<th>Nature Transaction</th>
					<th>N° Sequence</th>
					<th>Transporteur</th>
					<th>Reseau</th>
					<th>Ligne</th>
				</tr>
			</thead>
			<tbody>
		{% for data3 in dataCtu %}
			<tr>
				<td>{{ data3.type_valid }}</td>
				<td>{{ data3.code_tarif }}</td>
				<td>{{ data3.num_pass }}</td>
				<td>{{ data3.num_contrat }}</td>
				<td>{{ data3.horodatage|date('Y-m-d H:i:s') }}</td>
				<td>{{ data3.nature_transact }}</td>
				<td>{{ data3.sequence_ctu }}</td>
				<td>{{ data3.ref_transporteur }}</td>
				<td>{{ data3.ref_reseau }}</td>
				<td>{{ data3.ref_ligne }}</td>
			</tr>
		{% endfor %}
			</tbody>
		</table>
		<a type="button" class="btn button" href="{{ path('env_show_ctu', { 'nomCourt': nomCourt }) }}">Plus de validation P.P.</a>
		<br/><hr />
		
		
		<div class="row">
			<h3>Données Stif</h3>
		</div>	
		<table id="myTable" class="table table-striped table-bordered" style="width:100%" >
			<thead>
				<tr>
					<th>Produit	</th>
					<th>Profil</th>
					<th>n°Pass</th>
					<th>Zones</th>
					<th>Horodatage</th>
					<th>Nature Valid</th>
					<th>Ligne</th>
					<th>Borne</th>
					<th>n°Sequence</th>
				</tr>
			</thead>
			<tbody>
		{% for data in dataStif %}
			<tr>
				<td>{{ data.code_tarif }}</td>
				<td>{{ data.num_profil }}</td>
				<td>{{ data.num_anonyme }}</td>
				<td>{{ data.zones }}</td>
				<td>{{ data.horodatage|date('Y-m-d H:i:s') }}</td>
				<td>{{ data.nature_transact|number_format }}</td>
				<td>{{ data.ref_ligne|number_format }}</td>
				<td>{{ data.num_borne }}</td>
				<td>{{ data.sequence_ctu|number_format }}</td>
			</tr>
		{% endfor %}
			</tbody>
		</table>
		<a type="button" class="btn button" href="{{ path('env_show_stif', { 'nomCourt': nomCourt }) }}">Plus de validation STIF</a>
		<br/><hr />
		<div class="row">
			<h3>Données Olaf</h3>
		</div>	
		<table id="myTable2" class="table table-striped table-bordered" style="width:100%"> 
			<thead>
				<tr>
					<th>Prestataire</th>
					<th>Produit</th>
					<th>Profil</th>
					<th>Zonage Titre</th>
					<th>Station</th>
					<th>Zone valid</th>
					<th>Statut Valid</th>
					<th>Horodatage</th>
					<th>Date d'intégration</th>
				</tr>
			</thead>
			<tbody>
		{% for data2 in dataOlaf %}
			<tr>
				<td>{{ data2.transporteur }}</td>
				<td>{{ data2.code_tarif }}</td>
				<td>{{ data2.num_profil }}</td>
				<td>{{ data2.zonage_titre }}</td>
				<td>{{ data2.code_station_event }}</td>
				<td>{{ data2.zone_valid }}</td>
				<td>{{ data2.statut_valid }}</td>
				<td>{{ data2.horodatage|date('Y-m-d H:i:s') }}</td>
				<td>{{ data2.date_integ_olaf|date('Y-m-d') }}</td>
			</tr>
		{% endfor %}
		</tbody>
		</table>
		<a type="button" class="btn button" href="{{ path('env_show_olaf', { 'nomCourt': nomCourt }) }}">Plus de validation OLAF</a>
		<br/><hr />
		<div class="row">
			<h3>Données Optimus</h3>
		</div>	
		<table id="myTable4" class="table table-striped table-bordered" style="width:100%"> 
			<thead>
				<tr>
					<th>Prestataire</th>
					<th>Produit</th>
					<th>Profil</th>
					<th>Zonage Titre</th>
					<th>Station</th>
					<th>Zone valid</th>
					<th>Statut Valid</th>
					<th>Horodatage</th>
					<th>Date d'intégration</th>
				</tr>
			</thead>
			<tbody>
		{% for data4 in dataOpm %}
			<tr>
				<td>{{ data4.transporteur }}</td>
				<td>{{ data4.code_tarif }}</td>
				<td>{{ data4.num_profil }}</td>
				<td>{{ data4.zonage_titre }}</td>
				<td>{{ data4.code_station_event }}</td>
				<td>{{ data4.zone_valid }}</td>
				<td>{{ data4.statut_valid }}</td>
				<td>{{ data4.horodatage|date('Y-m-d H:i:s') }}</td>
				<td>{{ data4.date_integ_olaf|date('Y-m-d') }}</td>
			</tr>
		{% endfor %}
		</tbody>
		</table>
		<a type="button" class="btn button" href="{{ path('env_show_opm', { 'nomCourt': nomCourt }) }}">Plus de validation Optimus</a>
		<br/><hr />
	</div>
{% endblock %}
{% block javascripts %}
<script type="text/javascript" src="{{ asset('/JS/jquery.3.1.1.js') }}"></script>
<script type="text/javascript" src="{{ asset('/JS/tableSorterFull.js') }}"></script>
<script type="text/javascript" src="{{ asset('/JS/bootstrapTableSorter.js') }}"></script>
<script type="text/javascript">
	$(document).ready(function() 
		{ 
			$("#myTable3").DataTable(); 
			$("#myTable").DataTable(); 
			$("#myTable2").DataTable(); 
			$("#myTable4").DataTable(); 
		} 
	);
</script>
{% endblock %}